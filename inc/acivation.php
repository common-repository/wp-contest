<?php /*  * 	@PACKAGE WP CONTEST*	USE: THIS FUNCTION WILL TRIGGER ON PLUGIN ACTIVATION*/if(!function_exists('wpc_activation')){	function wpc_activation (){				global $wpdb;				$table_name = $wpdb->prefix . 'wpc_contests'; 				$sql = "CREATE TABLE " . $table_name . " (		id int(11) NOT NULL AUTO_INCREMENT,		title varchar(500) NULL,		fields longtext NULL,		additional_fields longtext NULL,		phase_two_voting_creteria longtext NULL,		contest_creation_time timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,		PRIMARY KEY  (id)	);";					require_once(ABSPATH . 'wp-admin/includes/upgrade.php');	dbDelta($sql);	$table_name = $wpdb->prefix . 'wpc_entry';	$pc_entry = "CREATE TABLE " . $table_name . " (	id int(11) NOT NULL AUTO_INCREMENT,	contest_id int(11) NULL,	user_id int(11) NULL,	entry_meta longtext NULL,	additional_fields longtext NULL,	payment_id longtext NULL,	payment tinyint(1) NOT NULL,	entry_time timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,	PRIMARY KEY  (id));";dbDelta($pc_entry);$table_name = $wpdb->prefix . 'wpc_phase_one_votiong';$pc_entry = "CREATE TABLE " . $table_name . " (id int(11) NOT NULL AUTO_INCREMENT, entry_id int(11) NULL,judge_id int(11) NULL,vote VARCHAR(10) NULL,voting_time timestamp,PRIMARY KEY  (id));";dbDelta($pc_entry);$table_name = $wpdb->prefix . 'wpc_phase_two_votiong';$pc_entry = "CREATE TABLE " . $table_name . " (id int(11) NOT NULL AUTO_INCREMENT, entry_id int(11) NULL,judge_id int(11) NULL,vote int(10) NULL,edit_reason longtext NULL,voting_time timestamp,PRIMARY KEY  (id));";dbDelta($pc_entry);$general_settings = array(	'upload_size' => 2,	'max_num_files' => 10,	'file_types' => array('jpg', 'png'),	'payment_mode' => 'sandbox',	'sandbox_client_id' => ' ',	'sandbox_secret_key' => ' ',	'live_client_id' => '',	'live_secret_key' => '',	'success_payment_page' => 0,	'failed_payment_page' => 0		);if(!get_option( 'wpc_general_settings' )){	add_option( 'wpc_general_settings', $general_settings);}if (! is_dir(wpc_pdf_dir())) {	wp_mkdir_p( wpc_pdf_dir());}add_role( 'wpc_judge', 'Photography Contest Judge ', array( 'read' => true, 'level_0' => true ) );add_role( 'wpc_contestant', 'Contestant', array( 'read' => true, 'level_0' => true ) );}}