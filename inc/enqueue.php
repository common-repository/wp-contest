<?php /*  * 	@PACKAGE WP CONTEST*	USE: enqueue style and script */if(!function_exists('wpc_front_end_enqueue')){	function wpc_front_end_enqueue(){		wp_enqueue_style('lightbox_css', WPC_URI.'css/lightbox.min.css' );		wp_enqueue_style('pop_style', WPC_URI.'css/style.css', '2.1.1' );		wp_enqueue_script('lightboxjs', WPC_URI.'js/lightbox.min.js', array('jquery') );		wp_enqueue_script('tabletoCSV', WPC_URI.'js/jquery.tabletoCSV.js', array('jquery') );		wp_enqueue_script('pop_js', WPC_URI.'js/pop.js', array('jquery'), '2.0.0' );		$contests_settings = array();		if(wpc_get_all_contest_id()){			$general_settings = get_option( 'wpc_general_settings' );			$contests_settings['upload_size'] = 1046076 * $general_settings['upload_size'];			foreach(wpc_get_all_contest_id() as $contest_id){				$WPC_contest_settings = new WPC_contest_settings( $contest_id );				$settings = $WPC_contest_settings->WPC_the_contest_settings();				$allowed_file_ext = $settings['file_types'];				$max_num_files = $settings['max_num_files'];								$contests_settings[$contest_id] = array(					'allowed_file_ext' => $allowed_file_ext,					'max_num_files' => $max_num_files									);			}								}					wp_localize_script( 'pop_js', 'popObj', array(			'settings'=> $contests_settings,			'url'=> admin_url('admin-ajax.php'),			'security'=> wp_create_nonce('export-nonce')		) );								wp_enqueue_script('pop_voting', WPC_URI.'js/pop_voting.js', array('jquery') );		if(wpc_get_all_contest_id()){			$allcriterias = array();			foreach(wpc_get_all_contest_id() as $contest_id){				$voting_criterias = wpc_get_phase_two_voting_criterias($contest_id);				$voting_criterias =  unserialize( $voting_criterias);				$criterias =  $voting_criterias['criteria'];				$allcriterias[$contest_id]  = array();				foreach($criterias as $criteria){					$criteria_name = 	wpc_stripout_spcl_char($criteria);					$criteria_name =  str_replace(" ","", $criteria_name);					$allcriterias[$contest_id][] = $criteria_name;				}			}					}else{			$allcriterias = '';		}					wp_localize_script( 'pop_voting', 'usersubmitform', array(			'url'=> admin_url('admin-ajax.php'),			'criterias'=> $allcriterias,			'security'=> wp_create_nonce('voting-nonce')		) );					}}if(!function_exists('wpc_back_end_enqueue')){	function wpc_back_end_enqueue($hook){	//var_dump($hook);		if($hook ==  'wp-contest_page_wpc_entries' || $hook == 'wp-contest_page_wpc_contests' || $hook == 'wp-contest_page_wpc_general_settings' ){			wp_enqueue_style('bootstrapcss', WPC_URI.'bootstrap/css/bootstrap.min.css' );			wp_enqueue_style('font-awesome', 'https://use.fontawesome.com/releases/v5.0.13/css/all.css' );			wp_enqueue_script('bootstrapcssjs', WPC_URI.'bootstrap/js/bootstrap.min.js', array('jquery'));			wp_enqueue_script('tabletoCSV', WPC_URI.'js/jquery.tabletoCSV.js', array('jquery') );			wp_enqueue_script('deletejs', WPC_URI.'js/delete.js', array('jquery'));			wp_localize_script( 'deletejs', 'Delobj', array(				'ajaxurl'=> admin_url('admin-ajax.php'),				'security' => wp_create_nonce('Delobj-nonce')							) );		}				if( $hook ==  'wp-contest_page_wpc_entries' || $hook == 'wp-contest_page_wpc_contests' || $hook == 'wp-contest_page_pop_phase_one' || $hook == 'wp-contest_page_wpc_phase_two' || $hook == 'wp-contest_page_editing_reason' || $hook == 'wp-contest_page_wpc_general_settings' ){			wp_enqueue_style('pop_style', WPC_URI.'css/admin.css' );						wp_enqueue_script('pop_admin_js', WPC_URI.'js/pop_admin_js.js', array('jquery'));			wp_localize_script( 'pop_admin_js', 'criterisObj', array(				'voting_template' => wpc_phase_two_voting_criteria_template(),				'ajaxurl'=> admin_url('admin-ajax.php'),				'security' => wp_create_nonce('delete-contest-nonce')			));		}		if($hook == 'wp-contest_page_wpc_contests'){						wp_enqueue_script('admin_field_js', WPC_URI.'js/admin_field.js', array('jquery', 'jquery-ui-sortable'));			wp_localize_script( 'admin_field_js', 'fieldObj', array(		//'add_field_markup' => wpc_get_add_field_markup(),				'url'			   => admin_url('admin-ajax.php'),				'security'		   => wp_create_nonce('fields-sequirity-nonce')			) );		}			}}