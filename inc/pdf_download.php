<?php /*  * 	@PACKAGE WP CONTEST*	USE: plugin functions */if(!class_exists('FPDF')){require WPC_PATH.'/pdf/fpdf.php';}if(!class_exists('WPC_PDF')){	class WPC_PDF extends FPDF	{		// Page header		function Header()		{			// Logo			//$this->Image('logo.png',10,6,30);			// Arial bold 15			$this->SetFont('Arial','B',15);			// Move to the right			$this->Cell(80);			// Title			$this->Cell(40,10,'Contest Entry',1,0,'C');			// Line break			$this->Ln(20);		}		// Page footer		function Footer()		{			// Position at 1.5 cm from bottom			$this->SetY(-15);			// Arial italic 8			$this->SetFont('Arial','I',8);			// Page number			$this->Cell(0,10,date("Y-m-d h:i:sa", time()),0,0,'C');		}	}}if(!function_exists('wpc_download_entry')){	function wpc_download_entry($entry_id){				$entry_values = wpc_get_entry_if_paid($entry_id);		if(!$entry_values){			return;		}		$entry_meta = unserialize( $entry_values['entry_meta'] );		$img_src = esc_url_raw( wpc_upload_dir_url().$entry_meta['image'] );		$contest_title = wpc_get_contest_title($entry_values['contest_id']);				$pdf = new WPC_PDF();		$pdf->AddPage();		$pdf->SetFont('Arial','B',16);						$pdf->Image($img_src,60,30,90,0);		$pdf->Ln(100);				$pdf->Cell(40,10, 'Contest Title: '.$contest_title); $pdf->Ln(10);		$pdf->Cell(40,10, 'Entry ID'.$entry_id); $pdf->Ln(10);		$pdf->Cell(40,10, 'Title: '.$entry_meta['title']); $pdf->Ln(10);		$pdf->Cell(40,10, 'Category: '.$entry_meta['category']); $pdf->Ln(10);		$pdf->Cell(40,10, 'Description: '.$entry_meta['description']); $pdf->Ln(10);		$pdf->Cell(40,10, 'Sumitted By: '.get_user_by('id', $entry_values['user_id'])->display_name); $pdf->Ln(10);		$pdf->Cell(40,10, 'Sumitted On: '.$entry_values['entry_time']); $pdf->Ln(10);										if(!file_exists(wpc_pdf_dir().'pop_'.$entry_id.'.pdf')){			$pdf->Output(wpc_pdf_dir().'pop_'.$entry_id.'.pdf','F');		}		return;	}}